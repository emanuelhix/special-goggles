# This GitHub Actions workflow creates a local timestamp file on the runner machine
# every time there is a push to the main branch. The file is stored outside
# of the repository, in a sibling "timestamps" directory. Its filename
# contains the UTC timestamp at the time of creation.

name: Create Local Timestamp

on:
  push:
    branches:
      - main  # adjust if needed

jobs:
  write-timestamp:
    runs-on: self-hosted  # runs physically on your machine

    steps:
      - name: Create timestamp file on runner machine
        run: |
          pwd
          mkdir -p ../timestamps  # store outside of the repository
          timestamp=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
          echo "$timestamp" > ../timestamps/timestamp_${timestamp}.txt

